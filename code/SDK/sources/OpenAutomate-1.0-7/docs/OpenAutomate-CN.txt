
    OpenAutomate SDKİĵ.OpenAutomate
    SDK˼Ǿܵıʹúͼ.ĳʹ,NVIDIAӲ
    Żʩ,޶ȵİû.
    SDKеԴ벿ְҪеĴ.SDKеԴ벿ְ
    ҪеĴ.

    ڳ,ο.

    ڳʹOpenAutomate SDK, ԱVIDIA:

    * ضƽ̨û, öпеѡ
    * öٵǰѡ
    * лѡ
    * öпõbenchmark(benchmarkԼκοõĲ)
    * benchmark

    ,NVIDIAڲиЧĲĳ.ͨлѡ,
    ǻܰѰҷʱѡ.


    ĳ,OpenAutomate:

    * һһѡ'-openautomate',
    OpenAutomateģʽ
    * һöпѡķ
    *
    ѡ(GUIеĲ˵)Ҫֱ۵ķʽû˵.(ο
    еѡֿռ½)
    * һöпѡķ
    * һıѡķ
    * һöbenchmarkķ
    * һbenchmarkķ
    * һгķ
    * ,뷵һֵ
    * ڰװʱ,ѭOpenAutomate׼ϵͳע.
    * ͨOpenAutomateһԲ(conformance
    test)(οoatestĵ)

ʵ
  ѡ
    ʹOpenAutomateĳһѡ
    -openautomate,һַΪ(ȱʡ).

    ʽ:

        app.exe -openautomate opaque_opt_str

    һ⵽в,ȵoaInit(),һַΪ
    ,ΪOpenAutomateģʽеĲ.

  OpenAutomateѭ
    oaInit()֮,̽OpenAutomateѭ.ϵoaGetNex
    tCommand()ֱOA_CMD_EXITOA_CMD_RUN. һ:

       while(1)
       {

          oaInitCommand(&Command);
          switch(oaGetNextCommand(&Command))
          {

            /* ˳ */
            case OA_CMD_EXIT: 
             return;

            /*  */
            case OA_CMD_RUN: 
             RunApp();
             return;

            /* öϷ */
            case OA_CMD_GET_ALL_OPTIONS: 
             GetAllOptions();
             break;

            /* صǰֵ */
            case OA_CMD_GET_CURRENT_OPTIONS:
             GetCurrentOptions();
             break;

            /* ѡ */
            case OA_CMD_SET_OPTIONS: 
             SetOptions();
             break;

            /* öbenchmark */
            case OA_CMD_GET_BENCHMARKS: 
             GetBenchmarks();
             break;

            /* benchmark */
            case OA_CMD_RUN_BENCHMARK: 
             RunBenchmark(Command.BenchmarkName);
             break;

          }
       }

  Openautomate
    ĳб֧߸:

   OA_CMD_EXIT
    ˳.

   OA_CMD_RUN
    OpenAutomateģʽһг.ע:ûѡ˳ʱҪ̽
    ,Ӧصѭ,oaGetNextCommand().

   OA_CMD_GET_ALL_OPTIONS
    жڵǰûõѡ.ÿһѡ,oaAddOption().
    ΪOA_TYPE_ENUMѡ,ӦöÿһöֵһoaAddOption().μ
    еöѡ½ԻȡϢ.

   OA_CMD_GET_CURRENT_OPTIONS
    ÿһֿѡ,ӦõoaAddOptionValue(),öٵǰ.

   OA_CMD_SET_OPTIONS
    ӦoaGetNextOption()ֱúNULL,صoaNamedOptio
    nṹָΪѡֵ.

       while((Option = oaGetNextOption()) != NULL)
       {

          /*
           * ڴ˴ѡֵ
           * Option->NameΪֵ, 
           * Option->Valueźʵֵ.
           */

       }

   OA_CMD_GET_BENCHMARKS
    ö֪benchmark.

    ÿһbenchmarkӦһصַ.ÿһbenchmark,
    oaAddbenchmark().

   OA_CMD_RUN_BENCHMARK
    oaGetNextCommand()зؽṹBenchmarkNameֵ,ָbenchm
    ark.3ص:

    * void oaStartBenchmark(void)
        benchmarkҪʼ֮ǰ(һ֡κCPUGPU֮ǰ),oaStartb
        enchmark().

    * void oaDisplayFrame(oaInt frame)
        ÿһ֡present֮ǰ.

        ʵʱõ,ֻҪoaStartbenchmark()oaEnd
        benchmark().

    * void oaEndBenchmark(void)
        һ֡Ⱦ֮.

    ,ԵoaAddResultValue()oaAddFrameValue()ȡbenchmark
    ԼԽ.

    ֻһ֡oaDisplayFrame()֮,oaEndBenchmark()֮ǰʹoaAdd
    ResultValue().oaAddFrameValue()ÿ֡oaDisplayFrame()֮ǰʹ.

  öѡ
    OpenAutomate SDKֵ֧ѡͰ:

    * OA_TYPE_STRING
        ַ

    * OA_TYPE_INT
        

    * OA_TYPE_FLOAT
        ȸ

    * OA_TYPE_ENUM
        öֵ

    * OA_TYPE_BOOL
        ֵ

    ڳOA_TYPE_ENUM֮͵ѡ,һoaAddOption()
    .

    oaAddOption()
    һָoaNameOptionṹָΪ.ʹoaInitOption()
    ʼṹ.ѡʼ:

    * DataType
        ѡ(: OA_TYPE_INT)

    * Name
        һַ,ṩûʾ.

   OA_TYPE_ENUMoaAddOption()
    ѡΪOA_TYPE_ENUM,пܵöֵһoaAddOp
    tion().ʱ,Value.EnumΪӦöֵ.

    :һΪResoluionѡ640x480,1024x7681600x1200.:

       {

         oaNamedOptionStruct Option; 

         oaInitOption(&Option);
         Option.Name = "Resolution";
         Option.DataType = OA_TYPE_ENUM;

         Option.Value.Enum = "640x480";
         oaAddOption(&Option);

         Option.Value.Enum = "1024x768";
         oaAddOption(&Option);

         Option.Value.Enum = "1600x1200";
         oaAddOption(&Option);

       }

    ,Ӧöеöֵ,һöֵһö
    ֵ."˵,˳,
    ڷֱ(Resolution)ѡ˵,˳ͺȻ.

   ֵ
    ΪOA_TYPE_INTOA_TYPE_FLOATѡĬ״̬,ӦһĿ
    е.ͨNumSteps,MinValueMaxValueֵĲ.Nu
    mStepsΪ:

    * NumSteps = -1
        

    * NumSteps = 0
        

    * NumSteps > 0
        䱻ΪNumSteps

    ѡֵĲͬOA_TYPE_INTOA_TYPE_FLOAT,뽫MinValue.IntMax
    Value.IntMinValue.FloatԼMaxValue.FloatΪֵ.

    :һQualityֵΪ[1.0,5.0],Ϊ0.25(ֵΪ1.0,1.25,1.75
    ,2.0,...,4.75,5.0)´:

       {

         oaNamedOptionStruct Option; 

         oaInitOption(&Option);
         Option.Name = "Quality";
         Option.DataType = OA_TYPE_FLOAT;

         Option.NumSteps = 16;
         Option.MinValue.Float = 1.0;
         Option.MaxValue.Float = 5.0;
         oaAddOption(&Option);

       }

   ѡֿռ
    ѡԱΪֿռ.봫ͳļϵͳ·Լһ,ѡ
    ʹñָ/бʾ.

    ʹöռ,ڲOpenAutomateģʽʱ,еѡ
    ǿɼ.

    ʹ˶ռ,СĹ,Ա㽫ҪͲҪ¶û
    ѡֿ.

    λڶֿռUser/ѡǶûֱӿɼ,
    ѡǲֱӿɼ.

    ѡеַ/תַ//ķʽʾ.:User/In//Outʾ
    ռUserµһIn/Outѡ.

   ѡ
    гЩѡ,ֻĳЩѡֵض²ſɿ.OpenAuto
    mate SDK֧ѡ,ʽб:

        ParentVal EXP Constant

    ParentValѡֵ,ConstantĳЩParentValͬĳֵ,EXP
    ¼֮һ:

    * OA_COMP_OP_EQUAL
        (==)

    * OA_COMP_OP_NOT_EQUAL
        (!=)

    * OA_COMP_OP_GREATER
        (>)

    * OA_COMP_OP_LESS
        С(<)

    * OA_COMP_OP_GREATER_OR_EQUAL
        ڻ(>=)

    * OA_COMP_OP_LESS_OR_EQUAL
        Сڻ(<=)

    ͨDependency.ParentName,Dependency.ComparisonVal,Dependenc
    y.ComparisonOp⼸ϵ.

    ,һVolumeѡһSound
    EnableѡOA_ONܿ, ԱʾΪ:

       {

         oaNamedOptionStruct Option; 

         oaInitOption(&Option);
         Option.Name = "Volume";
         Option.DataType = OA_TYPE_FLOAT;

         Option.Dependency.ParentName = "Sound Enabled";
         Option.Dependency.ComparisonOp = OA_COMP_OP_EQUAL;
         Option.Dependency.ComparisonVal.Bool = OA_ON;

         Option.MinValue.Float = 0;
         Option.MaxValue.Float = 10;
         Option.NumSteps = 0;

         oaAddOption(&Option);

       }

  ź
    й,ͨoaSendSignal()Ͷź:

        oaBool oaSendSignal(oaSignalType signal, void *param);

    һЩźſҪһparam.ڲҪĺ,paramΪNULLͿ
    .

    õźŰ:

    OA_SIGNAL_SYSTEM_REBOOT
        ĳЩbenchmark߲Ҫ֮.źűʾҪȫ
        .ڵoaSendSignal()֮,:

        1. benchmark״̬
        2. 
        3.
        ڳһͬвеʱ,ϴαĵط
        benchmark.
            OA_SIGNAL_SYSTEM_REBOOTźʱ,oaSendSignal()param
            NULL.

    OA_SIGNAL_ERROR
        źűʾ쳣.paramΪһָoaMessageЧָ.oaMess
        ageеError뱻ΪoaErrorType͵ĺֵ,Message
        ջָһϢ.Щֵ֮ǰ,ȵoaInitMessage
        ɳʼ.źҲڴﾯ(ش),־Ϣ.
        ʱ,뽫oaMessageErrorֱֵΪOA_ERROR_WARNINGOA
        _ERROR_LOG.

        ЩԼڷ//־ź:

            OA_RAISE_ERROR(error_type, message_str) 
            OA_RAISE_WARNING(message_str) 
            OA_RAISE_LOG(message_str) 

  SDKһ
    SDKһǳ.ֻҪSDKеļ뵽ĹоͿ
    :

       inc/OpenAutomate.h
       inc/OpenAutomate_Internal.h
       src/OpenAutomate.c

    inc/OpenAutomate.hΨһҪļ.

  ʾ
    SDKexamples/simple_app/simple_app.cppչʾһǶOpenAutomateļ
    .Ҫ,Լ򵥵װԤõOpenAutomate.slnsim
    ple_plugin.dll,Ȼѡȫ.ĶļSDKĿ¼µdeb
    ugreleaseļ.ɺ,вֱʾ
    :

        .\exe\simple_app.exe -openautomate plugins\simple_plugin.dll

    simple_plugin.dllͨsimple_app,Ȼ󽫽дصstderr.
    ӵ:

        simple_app: Reading options file ".simple_app_options.txt".
        IN AddOption: 'User/Resolution'
        IN AddOption: 'User/Resolution'
        IN AddOption: 'User/Resolution'
        IN AddOption: 'User/AA'
        IN AddOption: 'User/AA'
        IN AddOption: 'User/AA'
        IN AddOption: 'User/Sound'
        IN AddOption: 'User/Music Enabled'
        IN AddOption: 'User/Enemy Density'
        IN AddOption: 'Compression Level'
        IN AddOption: 'Texture Quality'
        IN AddOption: 'Texture Size'
        IN AddOption: 'Texture Size'
        IN AddOption: 'Texture Size'
        Current option (int)'Compression Level' = 10
        Current option (float)'Texture Quality' = 19.402985
        Current option (enum)'Texture Size' = 128
        Current option (enum)'User/AA' = Off
        Current option (int)'User/Enemy Density' = 83
        Current option (bool)'User/Music Enabled' = 1
        Current option (enum)'User/Resolution' = 1024x768
        Current option (bool)'User/Sound' = 1
        simple_app: Writing options file ".simple_app_options.txt".
        IN AddBenchmark: forest
        IN AddBenchmark: crates
        IN AddBenchmark: map1
        Benchmark started
        Result value (int)'Score' = 18249
        Result value (float)'Some other score' = 29.140000
        Benchmark ended
          Total time = 1s
          Avg. FPS = 50.000000

  ΪOpenAutomateע
    OpenAutomateĳ(OpenAutomate--OpenAutomate
    Enabled)ڰװϵͳʱע,ڱҪʱЩܷܺı
    ҵ,ɨļϵͳ.

    עʱ,ֻҪ򵥵дһ-ֵ,ߴע(Window
    sϵͳ).

    ϵͳڶĿ¼OpenAutomateĳ,Ȼ󴴽һӦó
    б.ʱѭȼ,һͬĳڲͬĸע,
    ȼļ¼Ḳǵȼļ¼.

    Ӹߵȼλ:

    * Filesystem:
    <ENV{OPENAUTOMATE_DIR}>/OpenAutomate/RegisteredApps/<DEV_NAME>/<APP_NAME
    >/<APP_BUILD_NAME>
    * Filesystem:
    <HOME>/OpenAutomate/RegisteredApps/<DEV_NAME>/<APP_NAME>/<APP_BUILD_NAME
    >
    * Filesystem:
    <SYSTEM_ROOT>/OpenAutomate/RegisteredApps/<DEV_NAME>/<APP_NAME>/<APP_BUI
    LD_NAME>
    * Registry:
    HKEY_CURRENT_USER\SOFTWARE\OpenAutomate\RegisteredApps\<DEV_NAME>\<APP_N
    AME>\<APP_BUILD_NAME>
    * Registry:
    HKEY_LOCAL_MACHINE\SOFTWARE\OpenAutomate\RegisteredApps\<DEV_NAME>\<APP_
    NAME>\<APP_BUILD_NAME>

    :

    * <HOME>
        ǰûĸĿ¼(:C:\û\û  C:\Users\User)

    * <SYSTEM_ROOT>
        ϵͳĿ¼

    * <DEV_NAME>
        Ӧó򿪷(NVIDIA)

    * <APP_NAME>
        Ӧó(simple_app).

    * <APP_BUILD_NAME>
        Ӧó汾(v1.1, 080511, ...)

    Ҫʹļϵͳע,һָ·(:<HOME>/.openautomate/<D
    EV_NAME>/<APP_NAME>/<APP_BUILD_NAME>)´ļ.ļʽԺ.Ȼ
    -ֵԴ洢ڴļ.

    ҪʹWindowsעע,ָ·´һ,Ȼ-ֵ
    Ϊֵ.

    붨Щ-ֵ:

    * INSTALL_ROOT_PATH
        װľ·

    * ENTRY_EXE
        ܹͨ -openautomate
        ѡOpenAutomateģʽӦóľ·.

    * INSTALL_DATETIME
        ISO8601ʽĳװںʱ.

        ʽΪ:

        <date> <time>

        <date>ʽΪ: [YYYY]-[MM]-[DD]

        <time>ʽΪ: [hh]:[mm]:[ss] Ϊ24Сʱ

        : 2010-05-17 23:04:33 ʾʱ2010517230433

    * REGION
        RFC3066ʽĵǰ汾ֵ֧ĵ/б.ֶ֧/
        ,ʹ|ַָ.

   Unicodeַ
    OpenAutomateܻǷصַΪUTF-8ʽַ.
    Լ򻯲Ŀ,ͬʱҲ֧.Ҳκ޸,
    ׼ASCIIַ.

   ע/עİ
    SDKṩһЩڰע/עĺ.ֱʹ,ǲ
    дԼĺ.Ϣ,μOpenAutomateUtil.hOpenAutoma
    teUtil.cļ

   жس
    ڳжصʱ,뽫עļעһɾ.

   עļʽ
    * ļUTF-8ʽб֧չַ
    * ļǰ5ֽڱΪļ'OAREG'
    * ļ֮ļʽİ汾,Ȼµһ
    * Կհ(ֻհַ ո,˸,)
    * ǿհб洢-ֵ
        ʽΪ: <NAME> : <VALUE>

        <NAME><VALUE>֮ǰ֮пհַᱻ.

    һעļ:

        OAREG 1.0 

        INSTALL_ROOT_PATH: c:\Program Files\My Company\My Game
        ENTRY_EXE:         c:\Program Files\My Company\My Game\Bin\mygame.exe -i -o
        INSTALL_DATETIME:  2008-05-31 15:01:02
        REGION:            en_US|ko_KR

  ڳмOpenAutomate
    OpenAutomate
    SDKԶַʽɵϷ.ѡʵķʽ.:

    *
    ĿаOpenAutomate.cļ,ȻҪOpenAutomateC/C++ļ
    "#include SDKPATH/OpenAutomate.h"
    *
    ϷаOpenAutomateĿ,ȻսOpenAutomate.

   ͨͷļ/ԴļOpenAutomate
    ҲƼļɷʽ.ôĹ,κĿϵ
    ,ҲΪ޷ӵOpenAutomateͷʹ.Ƽʹ²Op
    enAutomateĿ:

    * OpenAutomate
    SDKѹĳļ,\ThirdParty\OpenAutomate.ҪOpenAutomate
    °汾,ֻҪļ滻.ThirdPartyļ¿OpenAutomateĶ
    汾,°汾ļΪ'OpenAutomate'(汾),OpenA
    utomateʱͲҪٸĿ
    *
    ʹOpenAutomatec/c++ļ<OpenAutomate\OpenAutomate.h>ͷ
    ļ(OpenAutomateλThirdParty\OpenAutomateĵط,Ŀİ
    ·ThirdParty)
    * OpenAutomate.cļŵĿ(Ŀ).ֻܱһ
    * ϷOpenAutomateЭĴ

    гκξǱ,DevTechʦϵ.

